# プロジェクトコンセプト

## Free Maps Are Portable / 自由な地図はどこへでも

このプロジェクトは、「自由な地図はどこへでも」というコンセプトを中心に展開されています。地図データを自由に利用し、どこでも簡単にホスト・表示できる環境を提供することを目指しています。

### プロジェクトの目的
1. **Martin を使用した PMTiles のホスティング**
   - PMTiles フォーマットの地図データを簡単にホストできるようにする。
   - 現在は `https://data.source.coop/protomaps/openstreetmap/v4.pmtiles` をホストする設定を提供。

2. **Vite を使用した高速な地図表示**
   - Vite を利用して、MapLibre GL JS を用いた地図表示を実現。
   - 開発者が簡単に地図をカスタマイズできる環境を提供。

3. **スタイルの柔軟性**
   - 初期設定では外部の `style.json` を使用。
   - 将来的には Apple Pkl を使用して独自の `style.json` を生成可能。

### プロジェクトの特徴
- **軽量性とポータビリティ**
  - PMTiles を活用することで、地図データを効率的に配信。
  - スタティックサイトとしてデプロイ可能な構成。

- **オープンソースと自由なカスタマイズ**
  - 地図データやスタイルのカスタマイズが可能。
  - 開発者が自由にプロジェクトを拡張できる設計。

### 主な設定ファイル

このプロジェクトでは、以下の設定ファイルを使用しています：

1. **Makefile**
   - Martin のインストールや開発サーバーの起動などのタスクを自動化します。
   - 例: `make martin-install` で Martin をインストール。

2. **vite.config.js**
   - Vite 開発サーバーの設定を行います。
   - `/v4` リクエストをポート 3000 の Martin に転送するリバースプロキシ設定を含みます。

3. **package.json**
   - プロジェクトの依存関係とスクリプトを管理します。
   - 例: `npm run dev` で Vite 開発サーバーを起動。

4. **config.yaml**
   - Martin の設定を行います。
   - 例: `https://data.source.coop/protomaps/openstreetmap/v4.pmtiles` をポート 3000 でホスト。

5. **src/style.json**
   - MapLibre GL JS の地図スタイルを定義します。
   - 初期設定では外部スタイルを使用しますが、将来的には Apple Pkl を使用してカスタマイズ可能です。

### 今後の展望
- Apple Pkl を活用した独自スタイルの生成。
- より多くの地図データフォーマットへの対応。
- 地図表示のパフォーマンス向上と新機能の追加。

このプロジェクトは、地図データの自由な利用と共有を促進し、誰でも簡単に地図をホスト・表示できる未来を目指しています。